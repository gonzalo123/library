/*
 * OpenUI5
 * (c) Copyright 2009-2024 SAP SE or an SAP affiliate company.
 * Licensed under the Apache License, Version 2.0 - see LICENSE.txt.
 */
sap.ui.define(["../utils/TableUtils","sap/ui/core/Element"],function(t,e){"use strict";const n=t.Hook.Keys;const i={};const o=t.createWeakMapFacade();const s=e.extend("sap.ui.table.plugins.PluginBase",{metadata:{abstract:true,library:"sap.ui.table"}});s.getPlugin=function(t,e=s){if(!t){return}if(typeof e==="function"&&e.getMetadata){e=e.getMetadata().getName()}const n=function(t){return t.isA(e)&&t.isA(["sap.m.plugins.PluginBase","sap.ui.table.plugins.PluginBase"])};return t.getDependents().find(n)||t.findElements(false,n)[0]};s.findOn=function(t){return s.getPlugin(t,this)};s.prototype.init=function(){e.prototype.init.apply(this,arguments);o(this).bIsActive=false};s.prototype.exit=function(){e.prototype.exit.apply(this,arguments);this.deactivate()};s.prototype.onActivate=function(t){};s.prototype.onDeactivate=function(t){};s.prototype.isActive=function(){return o(this).bIsActive};s.prototype.isApplicable=function(e){return t.isA(e,"sap.ui.table.Table")};s.prototype.setParent=function(t){this.deactivate();e.prototype.setParent.apply(this,arguments);if(t){if(!this.isApplicable(this.getTable())){throw new Error(this+" is not applicable to "+t)}this.activate()}return this};s.prototype.onTableBindRows=function(){};i[n.Table.BindRows]=function(t){this.onTableBindRows(t)};s.prototype.onTableRowsBound=function(t){};i[n.Table.RowsBound]=function(t){this.onTableRowsBound(t)};s.prototype.onTableUnbindRows=function(){};i[n.Table.UnbindRows]=function(){this.onTableUnbindRows()};s.prototype.getTable=function(){const e=this.getParent();return t.isA(e,"sap.ui.table.Table")?e:null};s.prototype.getTableBinding=function(){const t=this.getTable();const e=t?t.getBinding():null;return e?e:null};s.prototype.setRowCountConstraints=function(t){const e=this.getTable();if(e){e._setRowCountConstraints(t)}};s.prototype.activate=function(){const e=this.getTable();if(!e||this.isActive()){return}t.Hook.install(e,i,this);this.onActivate(e);const n=this.getTableBinding();if(n){this.onTableRowsBound(n)}o(this).bIsActive=true};s.prototype.deactivate=function(){const e=this.getTable();if(!this.isActive()){return}t.Hook.uninstall(e,i,this);this.onDeactivate(e);o(this).bIsActive=false};return s});
//# sourceMappingURL=PluginBase.js.map